<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Tickets - Make-It-All</title>
	<link rel="stylesheet" type="text/css" href="css/plugins/plugins.min.css">
	<link rel="stylesheet" type="text/css" href="css/pages/hardware.min.css">
	<link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css">
</head>

<body>
	<nav class="side-nav-bar">
		<a class="btn btn-info" href="index.html">
			Logout
			<i class="fa fa-sign-out"></i>
		</a>
		<div class="side-nav-bar-menu">
			<ul>
				<li>
					<a href="metrics.html">
						<i class="fa fa-line-chart fa-2x"></i>
						<p>Metrics</p>
					</a>
				</li>
				<li>
					<a href="tickets.html">
						<i class="fa fa-ticket fa-2x"></i>
						<p>Tickets</p>
					</a>
				</li>
				<li>
					<a href="software.html">
						<i class="fa fa-file-code-o fa-2x"></i>
						<p>Software</p>
					</a>
				</li>
				<li class="active">
					<a href="hardware.html">
						<i class="fa fa-laptop fa-2x"></i>
						<p>Hardware</p>
					</a>
				</li>
				<li>
					<a href="problem_types.html">
						<i class="fa fa-question fa-2x"></i>
						<p>Problem Types</p>
					</a>
				</li>
				<li>
					<a href="staff.html">
						<i class="fa fa-user-circle-o fa-2x"></i>
						<p>Staff</p>
					</a>
				</li>

				<li>
					<div class="breaker"></div>
					<a href="settings.html">
						<i class="fa fa-cog fa-2x"></i>
						<p>Settings</p>
					</a>
				</li>
			</ul>
		</div>
	</nav>

	<section id="list-view">
		<nav class="top-nav">
			<i class="fa fa-laptop"></i>
			<h4>Hardware</h4>
		</nav>
		<div id="selectorLists">
			<div class="selectorList">
				<table class="table">
					<thead>
						<tr>
							<th>TYPE</th>
						</tr>
					</thead>
					<tbody id="typeList">
						<tr>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="selectorList">
				<table class="table">
					<thead>
						<tr>
							<th data-slug="manufacturer">MANUFACTURER</th>
						</tr>
					</thead>
					<tbody id="manufacturerList">
						<tr>
						</tr>
					</tbody>
				</table>
			</div>
			<div id="table-section">
				<table class="table">
					<thead>
						<tr>
							<th data-slug="id">ID</th>
							<th data-slug="serial_number">SERIAL</th>
							<th data-slug="created_at">CREATED</th>
							<th data-slug="updated_at">UPDATED</th>
						</tr>
					</thead>
					<tbody>
						<tr>

						</tr>
					</tbody>
				</table>
			</div>
	</section>
	</div>
	<div>
		<section id="single-view">
			<nav class="top-nav with-content">
				<button class="btn btn-sm float-left" data-action="close">
					<i class="fa fa-times"></i>
					Close
				</button>
				<h4></h4>
			</nav>

			<div class="main-content">
				<div class="card mb-3">
					<h6 class="card-header main-content-title">
						<i class="fa fa-ticket"></i> Tickets
						<span class="text-muted list-total pull-right">Total: 5</span>
					</h6>
					<div class="card-body card-list">
						<ul id="tickets" class="list-group">

						</ul>
					</div>
				</div>

				<div class="card mb-3">
					<h6 class="card-header main-content-title">
							<i class="fa fa-file-code-o"></i> Software
						<span class="text-muted list-total pull-right">Total: 3</span>
					</h6>
					<div class="card-body card-list">
						<ul id="software" class="list-group">

						</ul>
					</div>
				</div>
			</div>
		</section>
	</div>


	<script src="js/plugins/plugins.min.js"></script>
	<script src="js/main.min.js"></script>
	<script src="js/pages/hardware.min.js"></script>
	<script src="js/pages/software.min.js"></script>
	<script src="js/pages/tickets.min.js"></script>
	<script>
		var makeItAll = new MakeItAll();
		makeItAll.ticketManager = new TicketManager(
			[
				{
					id: 0,
					date_of_call: '21/04/2017 12:32',
					caller: 0,
					tickets: [0, 1]
				},
				{
					id: 1,
					date_of_call: '21/04/2017 12:32',
					caller: 0,
					tickets: [2]
				},
				{
					id: 2,
					date_of_call: '21/04/2017 12:32',
					caller: 0,
					tickets: [3]
				},
				{
					id: 3,
					date_of_call: '21/04/2017 12:32',
					caller: 0,
					tickets: [4]
				},
				{
					id: 4,
					date_of_call: '21/04/2017 12:32',
					caller: 0,
					tickets: [4]
				},
			],
			[
				{
					id: 0,
					slug: 'new',
					name: 'New',
					tickets: [0, 1, 2]
				},
				{
					id: 1,
					slug: 'pending_awaiting_staff',
					name: 'Pending - Awaiting Staff',
					tickets: []
				},
				{
					id: 2,
					slug: 'pending_in_progress',
					name: 'Pending - In Progress',
					tickets: [3]
				},
				{
					id: 3,
					slug: 'resolved',
					name: 'Resolved',
					tickets: [4]
				}
			],
			[
				{
					id: 0,
					calls: [0],
					filter: 'new',
					title: 'Printer Queue not working',
					description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dictum metus dui. Vivamus laoreet et nulla sed lobortis. Cras varius posuere feugiat. Nunc ultricies eros a lorem viverra semper.',
					assigned_to: 0,
					devices: [],
					created_at: 'Yesterday',
					updated_at: '1 hour ago',
					events: [0, 1, 2],
					problem_type: 5
				},
				{
					id: 1,
					calls: [0],
					filter: 'new',
					title: 'Coffee machine needs refilling',
					description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dictum metus dui. Vivamus laoreet et nulla sed lobortis. Cras varius posuere feugiat. Nunc ultricies eros a lorem viverra semper.',
					assigned_to: 1,
					devices: [],
					created_at: '4 days ago',
					updated_at: '4 days ago',
					events: [3],
					problem_type: 1
				},
				{
					id: 2,
					calls: [1],
					filter: 'new',
					title: 'Squeeky chair',
					description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dictum metus dui. Vivamus laoreet et nulla sed lobortis. Cras varius posuere feugiat. Nunc ultricies eros a lorem viverra semper.',
					assigned_to: 0,
					devices: [],
					created_at: '1 day ago',
					updated_at: 'Just now',
					events: [],
					problem_type: 3
				},
				{
					id: 3,
					calls: [2],
					filter: 'pending_in_progress',
					title: 'Spilt water on macbook',
					description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dictum metus dui. Vivamus laoreet et nulla sed lobortis. Cras varius posuere feugiat. Nunc ultricies eros a lorem viverra semper.',
					assigned_to: 1,
					devices: [],
					created_at: '23 hours ago',
					updated_at: '3 minutes ago',
					events: [],
					problem_type: 5
				},
				{
					id: 4,
					calls: [3, 4],
					filter: 'resolved',
					title: 'Computer wont turn on',
					description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec dictum metus dui. Vivamus laoreet et nulla sed lobortis. Cras varius posuere feugiat. Nunc ultricies eros a lorem viverra semper.',
					assigned_to: 0,
					devices: [],
					created_at: '4 hours ago',
					updated_at: '4 hours ago',
					events: [],
					problem_type: 4
				}
			],
			[
				{
					id: 0,
					ticket_id: 0,
					author: 0,
					type: 'comment',
					content: 'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.',
					created_at: '1 hour ago'
				},
				{
					id: 1,
					ticket_id: 0,
					author: 0,
					type: 'event',
					content: 'Pending - Awaiting Review',
					created_at: '1 hour ago'
				},
				{
					id: 2,
					ticket_id: 0,
					author: 1,
					type: 'comment',
					content: 'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.',
					created_at: 'Just now'
				},
				{
					id: 3,
					ticket_id: 1,
					author: 0,
					type: 'comment',
					content: 'Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.',
					created_at: '1 hour ago'
				}
			]
		);
		makeItAll.HardwareManager = new HardwareManager(
			[
				{
					id: 0,
					type: 'GPU',
					manufacturer: 'ASUS',
					serial_number: '0123456789',
					programs: null,
					created_at: 'Yesterday',
					updated_at: 'Just now'
				},
				{
					id: 1,
					type: 'GPU',
					manufacturer: 'DELL',
					serial_number: '00000000001',
					programs: null,
					created_at: 'Today',
					updated_at: '2 hours ago'
				},
				{
					id: 2,
					type: 'RAM',
					manufacturer: 'Corsair',
					serial_number: '00000000002',
					programs: null,
					created_at: 'Today',
					updated_at: '1 hour ago'
				},
				{
					id: 3,
					type: 'Monitor',
					manufacturer: 'Samsung',
					serial_number: '00000000003',
					programs: null,
					created_at: 'Today',
					updated_at: 'Just now'
				},
				{
					id: 4,
					type: 'GPU',
					manufacturer: 'ASUS',
					serial_number: '00000000004',
					programs: null,
					created_at: 'Yesterday',
					updated_at: '21 hours ago'
				}
			]
		);
		makeItAll.SoftwareManager = new SoftwareManager(
			[
				{
					id: 1,
					name: 'Microsoft Word',
					devices: null,
					created_at: '3 minutes ago',
					updated_at: 'Just now'
				},
				{
					id: 2,
					name: 'Google Chrome',
					devices: null,
					created_at: 'Yesterday',
					updated_at: '10 minutes ago'
				},
				{
					id: 3,
					name: 'Microsoft Excel',
					devices: null,
					created_at: 'Today',
					updated_at: '2 hours ago'
				},
				{
					id: 4,
					name: 'Microsoft Powerpoint',
					devices: null,
					created_at: 'Yesterday',
					updated_at: '1 hour ago'
				}
			]
		);
	</script>
	<script type="text/javascript">
		var hardwarePage = new HardwarePage();
		hardwarePage.populateTypes();
		$("#typeList").on("click", "tr td", e => {
			$("#typeList>tr").removeClass("highlight");
			e.currentTarget.parentElement.classList.add("highlight");
			hardwarePage.type = e.currentTarget.dataset.type;
			hardwarePage.populateManufacturers();
		});

		$("#manufacturerList").on("click", "tr td", e => {
			$("#manufacturerList>tr").removeClass("highlight");
			e.currentTarget.parentElement.classList.add("highlight");
			hardwarePage.manufacturer = e.currentTarget.dataset.manufacturer;
			hardwarePage.showDevices();
		});

		$(hardwarePage.tableSelector).on("click", "tbody tr", e => {
			var id = Number(e.currentTarget.dataset.rowid);
			hardwarePage.showTableRowDetails(id);
		});
	</script>
</body>

</html>